(this["webpackJsonpcrypto-ws"]=this["webpackJsonpcrypto-ws"]||[]).push([[0],{136:function(e,t,n){},215:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(24),i=n.n(s),a=n(60),u=n(218),o=n(219),b=n(95),l=n.n(b),j={getCurrencies:"https://api.exchange.bitcoin.com/api/2/public/ticker",websocket:"wss://api.exchange.bitcoin.com/api/2/ws/public"},f=function(){var e=Object(c.useState)([]),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){fetch(j.getCurrencies).then((function(e){return e.json()})).then((function(e){return e.filter((function(e){return e.symbol.match(/\w+?USD/)}))})).then(r)}),[]),{currencies:n}},m=n(109),p=n.n(m),d=function(e){var t=p()(j.websocket,{onMessage:function(t){return e(JSON.parse(t.data))},share:!0}).sendJsonMessage;return{subscribe:Object(c.useCallback)((function(e){var n=e.ticker;t({method:"subscribeTicker",params:{symbol:n}})}),[t]),unsubscribe:Object(c.useCallback)((function(e){var n=e.ticker;t({method:"unsubscribeTicker",params:{symbol:n}})}),[t])}},h=Object(c.memo)((function(e){var t=e.id,n=Object(c.useState)(null),r=Object(a.a)(n,2),s=r[0],i=r[1],u=Object(c.useCallback)((function(e){"ticker"===e.method&&e.params.symbol===t&&i(e.params.last)}),[t]),o=d(u),b=o.subscribe,l=o.unsubscribe;return Object(c.useEffect)((function(){return b({ticker:t}),function(){return l({ticker:t})}}),[t,b,l]),s?"$"+s:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})),O=(n(136),n(137),n(36)),k=function(){var e=Object(c.useState)(1),t=Object(a.a)(e,2),n=t[0],r=t[1],s=f().currencies,i=Object(c.useMemo)((function(){return{current:n,onChange:r,pageSize:15,size:"small",showSizeChanger:!1}}),[n]);return Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(u.a,{dataSource:s,className:"currencies-table",pagination:i,rowKey:function(e){return e.symbol},children:[Object(O.jsx)(l.a,{title:"\u041a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u0430",render:function(e,t){return Object(O.jsx)(o.a.Text,{children:t.symbol.replace(/USD/,"")})},dataIndex:"id"},"name"),Object(O.jsx)(l.a,{title:"\u041a\u043e\u0442\u0438\u0440\u043e\u0432\u043a\u0430 (USD)",render:function(e,t){return Object(O.jsx)(h,{id:t.symbol})}},"quotation")]})})};i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(k,{})}),document.getElementById("root"))}},[[215,1,2]]]);
//# sourceMappingURL=main.6cb57350.chunk.js.map